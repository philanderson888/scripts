Last login: Sun Jul  7 14:20:29 on ttys009
cd ~/github/scripts/azure/bash
➜  ~ cd ~/github/scripts/azure/bash
➜  bash git:(master) ✗ ./masterScript.sh 
screen cleared



shell running on mac
/bin/zsh
zsh 5.9 (x86_64-apple-darwin23.0)



==============================================================
==============================================================
==============================================================
====                      azure                           ====
====                  build linux server                  ====
====        script starts at unix time 1720359372
====        script starts at  Sun Jul  7 14:36:12 2024
==============================================================
==============================================================
==============================================================


==============================================================
====            initialise script functions               ====
==============================================================


there have been 231 runs of this script
store new value for next time











==============================================================
==============================================================
====                choose vm image
====                script elapsed time 0:06
==============================================================
==============================================================



==============================================================
====             waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian 
====                script elapsed time 0:06
==============================================================
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian











==============================================================
==============================================================
====                set credentials
====                script elapsed time 0:06
==============================================================
==============================================================



==============================================================
====             waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass .. 
====                script elapsed time 0:06
==============================================================
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..











==============================================================
==============================================================
====                install libraries
====                script elapsed time 0:06
==============================================================
==============================================================
================================================================
====    only doing installs every 30 runs of this program ====
================================================================
there have been 231 runs of this script



==============================================================
====             waypoint 3 at 6 s took 1 s - install libraries 
====                script elapsed time 0:07
==============================================================
aws cli installed of version aws-cli/2.15.21
powershell version PowerShell 7.4.2 installed
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries











==============================================================
==============================================================
====                log in to cloud
====                script elapsed time 0:07
==============================================================
==============================================================
=======================================================================
====             already logged in to azure portal        =============
=======================================================================






==============================================================
====             waypoint 4 at 7 s took 0 s - log in to cloud 
====                script elapsed time 0:07
==============================================================
aws cli installed of version aws-cli/2.15.21
powershell version PowerShell 7.4.2 installed
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud











==============================================================
==============================================================
====                query cloud resources
====                script elapsed time 0:07
==============================================================
==============================================================
=============================================================
====                  azure status                       ====
=============================================================
azure logged in account is ...
philanderson888@hotmail.com



=============================================================
====                 azure account list                  ====
=============================================================
Name           CloudName    TenantId
-------------  -----------  ------------------------------------
Pay-As-You-Go  AzureCloud   84db59c8-e4f2-4a8b-9c4a-2f6be457ceba






==============================================================
====             waypoint 5 at 7 s took 0 s - query cloud resources 
====                script elapsed time 0:07
==============================================================
aws cli installed of version aws-cli/2.15.21
powershell version PowerShell 7.4.2 installed
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources











==============================================================
==============================================================
====                delete existing environments
====                script elapsed time 0:07
==============================================================
==============================================================
==============================================================
====        rebuilding from scratch every time            ====
==============================================================
tearing down and building up from scratch every time
... remove any resource groups if they contain the name Resource Group
... parse the number of the last known resource group
... add one
... create a fresh resource group with the new number incremented by one
... create fresh servers from scratch each time
==============================================================
==============================================================
====            list resource groups 004-070              ====
==============================================================
NetworkWatcherRG
ResourceGroup03
==============================================================
====                get next resource group               ====
==============================================================
resource group ResourceGroup03 exists with index 03
new resource group name will be ResourceGroup04
=====================================================================
====            deleting existing resource groups                ====
=====================================================================
NetworkWatcherRG
ResourceGroup03
... deleting resource group ... ResourceGroup03



==============================================================
====             waypoint 6 at 7 s took 3 s - clean environment 
====                script elapsed time 0:10
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment











==============================================================
==============================================================
====                create resource group
====                script elapsed time 0:10
==============================================================
==============================================================
creating resource group ResourceGroup04 in uk south region
{
  "id": "/subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04",
  "location": "uksouth",
  "managedBy": null,
  "name": "ResourceGroup04",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": null,
  "type": "Microsoft.Resources/resourceGroups"
}



resource group ResourceGroup04 was just created, so servers have to be created also






==============================================================
====             waypoint 7 at 10 s took 1 s - create resource group 
====                script elapsed time 0:11
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group











==============================================================
==============================================================
====                list resource group
====                script elapsed time 0:11
==============================================================
==============================================================
Resource          Name
----------------  -----------------------------------------------
NetworkWatcherRG  NetworkWatcher_uksouth
ResourceGroup03   vm01NSG
ResourceGroup03   vm01PublicIP
ResourceGroup03   vm01VNET
ResourceGroup03   vm01VMNic
ResourceGroup03   vm01
RESOURCEGROUP03   vm01_disk1_97708ed479f14b95a0f71c9c8d6a581c
ResourceGroup03   shutdown-computevm-vm01
ResourceGroup03   vm02NSG
ResourceGroup03   vm02PublicIP
ResourceGroup03   vm02VMNic
ResourceGroup03   vm02
RESOURCEGROUP03   vm02_disk1_c7fd569728754418bf3ac1b0680e4242
ResourceGroup03   vmRedhatPublicIP
ResourceGroup03   vmRedhatNSG
ResourceGroup03   vmRedhatVMNic
ResourceGroup03   vmRedhat
RESOURCEGROUP03   vmRedhat_disk1_33009a5d470349c5a73ba5ab988f7f30
=====================================================================
====                   get resource group                        ====
=====================================================================
resource group names are ...
NetworkWatcherRG
ResourceGroup03
ResourceGroup04
resource group ResourceGroup04 will be used to build servers in



az resource list







==============================================================
====             waypoint 8 at 11 s took 2 s - list resource groups 
====                script elapsed time 0:13
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups











==============================================================
==============================================================
====                query vm templates
====                script elapsed time 0:13
==============================================================
==============================================================
=====================================================================
====     vm templates >> output-azure-vm-image-templates.txt     ====
=====================================================================
find all Gen2 SKUs published by Microsoft Windows Desktop - output to output-azure-vm-image-templates.txt
find all Gen2 SKUs published by Microsoft Windows Desktop - output to output-azure-vm-image-templates.txt
find all Gen2 SKUs published by Canonical - output to output-azure-vm-image-templates.txt
find all images - output to output-azure-vm-image-templates.txt
- images use a URN b image name c image id d VHD blob URI
azure image templates to use are
debian
- Ubuntu2204
- Debian11
redhat
- CentOS85Gen2
- FlatcarLinuxFreeGen2
- OpenSuseLeap154Gen2
- RHELRaw8LVMGen2
- SuseSles15SP3
windows
- Win2022Datacenter
- Win2022AzureEditionCore



==============================================================
====             waypoint 9 at 13 s took 0 s - query vm templates 
====                script elapsed time 0:13
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates











==============================================================
==============================================================
====                create vm vm01 using image Ubuntu2204 .. os ubuntu of type debian
====                script elapsed time 0:13
==============================================================
==============================================================
{
  "fqdns": "",
  "id": "/subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04/providers/Microsoft.Compute/virtualMachines/vm01",
  "location": "uksouth",
  "macAddress": "00-22-48-41-F3-BD",
  "powerState": "VM running",
  "privateIpAddress": "10.0.0.4",
  "publicIpAddress": "172.167.157.205",
  "resourceGroup": "ResourceGroup04",
  "zones": ""
}






==============================================================
====             waypoint 10 at 13 s took 35 s - vm created 
====                script elapsed time 0:48
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created











==============================================================
==============================================================
====                list vms
====                script elapsed time 0:49
==============================================================
==============================================================
Name    ResourceGroup    Location    Zones
------  ---------------  ----------  -------
vm01    RESOURCEGROUP04  uksouth



==============================================================
====             waypoint 11 at 48 s took 1 s - list vms 
====                script elapsed time 0:49
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms











==============================================================
==============================================================
====                query vm
====                script elapsed time 0:49
==============================================================
==============================================================











==============================================================
==============================================================
====                query vm vm01
====                script elapsed time 0:49
==============================================================
==============================================================
resource group name ResourceGroup04
vm id is /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/VMResources/providers/Microsoft.Compute/virtualMachines/vm01
machine id 0844d285-38c5-4f60-8c3c-b368fdb5d9cd
user name azureuser
computer name vm01
vm id hash ... 0844d285-38c5-4f60-8c3c-b368fdb5d9cd
vm size ... Standard_DS1_v2
vm network id is /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04/providers/Microsoft.Network/networkInterfaces/vm01VMNic
network card name vm01VMNic
vm public ip is 172.167.157.205
vm private ip is 10.0.0.4
network card mac address 00-22-48-41-F3-BD
resource group name ResourceGroup04
resource group location uksouth
resource group id 73d6cf6e-0b00-4395-a785-176e5f466371



==============================================================
====             waypoint 12 at 49 s took 12 s - query vm using cloud provider 
====                script elapsed time 1:01
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider











==============================================================
==============================================================
====                query network security group
====                script elapsed time 1:01
==============================================================
==============================================================
=====================================================================
====               query network security group                  ====
====        output sent to ./output-network-security-group.txt   ====
=====================================================================



==============================================================
====             waypoint 13 at 61 s took 0 s - query network security group performed 
====                script elapsed time 1:01
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed











==============================================================
==============================================================
====                who am i USER
====                script elapsed time 1:02
==============================================================
==============================================================
Warning: Permanently added '172.167.157.205' (ED25519) to the list of known hosts.
username azureuser











==============================================================
==============================================================
====                get remote shell
====                script elapsed time 1:04
==============================================================
==============================================================











==============================================================
==============================================================
====                query linux
====                script elapsed time 1:05
==============================================================
==============================================================
=======================================================================
====                          shell 01310                          ====
=======================================================================
shell in use on remote machine is bash
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)



=======================================================================
====                     linux version 01320                       ====
=======================================================================
running a case statement on /etc/os-release against the option 'ID'
This is Ubuntu Linux
==================================================================
====              update ubuntu of type debian 01330
==================================================================
==============================================================
====                  update services 013-077             ====
==============================================================



==============================================================
====             waypoint 14 at 61 s took 34 s - query linux 
====                script elapsed time 1:35
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux











==============================================================
==============================================================
====                dnf install
====                script elapsed time 1:35
==============================================================
==============================================================
shell in use on remote machine is /bin/bash
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
=======================================================================
====                        linux version                          ====
=======================================================================
running a case statement on /etc/os-release against the option 'ID'
This is Ubuntu Linux
==================================================================
====              update ubuntu of type debian 014-038
==================================================================
==============================================================
====               update various services                ====
==============================================================
==============================================================
====                   install dnf                        ====
==============================================================
do not install dnf on ubuntu



==============================================================
====             waypoint 15 at 95 s took 2 s - dnf install 
====                script elapsed time 1:37
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install











==============================================================
==============================================================
====                update os
====                script elapsed time 1:37
==============================================================
==============================================================
shell in use
bash
==============================================================
====                    update vm                         ====
==============================================================
==============================================================
====          which flavour of linux is this machine      ====
==============================================================
running a case statement on /etc/os-release against the option 'ID'
This is Ubuntu Linux






=====================================================================
====              update ubuntu which is of type debian
=====================================================================
=====================================================================
====                    apt-get update                           ====
=====================================================================
=====================================================================
====                    apt-get upgrade                          ====
=====================================================================
=================================================================
====                       python                            ====
=================================================================
python version
Python 3.10.12



python platform ... linux os on which python is built ....
Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
===============================================================
====          update and upgrade linux complete            ====
===============================================================



==============================================================
====             waypoint 16 at 97 s took 12 s - os updated 
====                script elapsed time 1:49
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated











==============================================================
==============================================================
====                installing services
====                script elapsed time 1:49
==============================================================
==============================================================

run counter is
231











==============================================================
==============================================================
====                install zsh
====                script elapsed time 1:49
==============================================================
==============================================================
=======================================================================
====            apt-get install zsh 18020                          ====
=======================================================================
apt-get install dialog
apt-get install apt-utils
apt-get install zsh
zsh



touch ./.oh-my-zsh



echo shell
zsh



zsh version
zsh 5.8.1 (x86_64-ubuntu-linux-gnu)



touch .zshrc

cat .zshrc



shell in use is zsh
shell version is zsh --version
which zsh
/usr/bin/zsh
whereis zsh
zsh: /usr/bin/zsh /usr/lib/x86_64-linux-gnu/zsh /etc/zsh /usr/share/zsh /usr/share/man/man1/zsh.1.gz
=====================================================================
====                set zsh as default shell                     ====
=====================================================================



==============================================================
====             waypoint 17 at 109 s took 10 s - zsh 
====                script elapsed time 1:59
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
the following services will be installed ...
    apache
    nginx
    services restarted
    node
    express
    vue
    bun
    react
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh











==============================================================
==============================================================
====                install oh my zsh
====                script elapsed time 1:59
==============================================================
==============================================================
shell in use is zsh
shell version is zsh --version
zsh



shell in use
zsh



shell version
zsh 5.8.1 (x86_64-ubuntu-linux-gnu)



zsh version
zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
=====================================================================
====                      test oh-my-zsh                         ====
=====================================================================



==============================================================
====             waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh 
====                script elapsed time 2:01
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh











==============================================================
==============================================================
====                python
====                script elapsed time 2:01
==============================================================
==============================================================
script-19-pandas.py                                                           100%  141     6.1KB/s   00:00    
script-19-numpy.py                                                            100%  469    19.5KB/s   00:00    
python version
Python 3.10.12



python platform ... linux os on which python is built ....
Linux-6.5.0-1023-azure-x86_64-with-glibc2.35



sudo apt-get install python3



python version
Python 3.10.12



python platform ... linux os on which python is built ....
Linux-6.5.0-1023-azure-x86_64-with-glibc2.35



numpy is the python scientific library ... numbers in python ... but has been extended to many other scientific uses
https://numpy.org/

sudo apt-get install python3-pip



pip3 --version
pip 22.0.2 from /usr/lib/python3/dist-packages/pip (python 3.10)

pip3 install pandas
Defaulting to user installation because normal site-packages is not writeable
Collecting pandas
  Downloading pandas-2.2.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.0 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.0/13.0 MB 113.0 MB/s eta 0:00:00
Collecting python-dateutil>=2.8.2
  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 229.9/229.9 KB 34.9 MB/s eta 0:00:00
Collecting tzdata>=2022.7
  Downloading tzdata-2024.1-py2.py3-none-any.whl (345 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 345.4/345.4 KB 49.7 MB/s eta 0:00:00
Collecting numpy>=1.22.4
  Downloading numpy-2.0.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (19.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 19.3/19.3 MB 93.5 MB/s eta 0:00:00
Requirement already satisfied: pytz>=2020.1 in /usr/lib/python3/dist-packages (from pandas) (2022.1)
Requirement already satisfied: six>=1.5 in /usr/lib/python3/dist-packages (from python-dateutil>=2.8.2->pandas) (1.16.0)
Installing collected packages: tzdata, python-dateutil, numpy, pandas
  WARNING: The scripts f2py and numpy-config are installed in '/home/azureuser/.local/bin' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
Successfully installed numpy-2.0.0 pandas-2.2.2 python-dateutil-2.9.0.post0 tzdata-2024.1



cd /home/azureuser
mkdir python
mv script-19-pandas.py python
mv script-19-numpy.py python
cd python



python3 script-19-pandas.py
    cars  passings
0    BMW         3
1  Volvo         7
2   Ford         2



python3 script-19-numpy.py
[ 1.43251636  1.37044275  0.42793629 ... -0.43215384  1.50950622
  0.60017229]
[ 1.43251636  1.37044275  0.42793629 ... -0.43215384  1.50950622
  0.60017229]



==============================================================
====             waypoint 19 at 121 s took 33 s - python 
====                script elapsed time 2:34
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python











==============================================================
==============================================================
====                git
====                script elapsed time 2:34
==============================================================
==============================================================
git version 2.34.1



==============================================================
====             waypoint 20 at 154 s took 2 s - git 
====                script elapsed time 2:36
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git











==============================================================
==============================================================
====                apache
====                script elapsed time 2:36
==============================================================
==============================================================



==============================================================
====             waypoint 21 at 156 s took 1 s - apache 
====                script elapsed time 2:37
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache











==============================================================
==============================================================
====                nginx
====                script elapsed time 2:37
==============================================================
==============================================================
nginx tutorials
https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-20-04
https://ubuntu.com/server/docs/how-to-install-nginx
configure nginx to work together with apache
https://hostadvice.com/how-to/web-hosting/ubuntu/how-to-configure-nginx-and-apache-together-in-ubuntu
nginx -v
nginx version: nginx/1.18.0 (Ubuntu)
nginx version: nginx/1.18.0 (Ubuntu)



==============================================================
====             waypoint 22 at 157 s took 10 s - nginx 
====                script elapsed time 2:47
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx











==============================================================
==============================================================
====                restart services
====                script elapsed time 2:47
==============================================================
==============================================================











==============================================================
==============================================================
====                install node npm yarn - and express
====                script elapsed time 2:49
==============================================================
==============================================================
cd /home/azureuser
get node binaries via curl command then install node
note - E means 'preserve environment'
note - sudo - E will download the file then execute it with sudo commands
install node 025-011
===================================================================
====                          gnupg                            ====
===================================================================
gnupg version
gpg (GnuPG) 2.2.27
libgcrypt 1.9.4
Copyright (C) 2021 Free Software Foundation, Inc.
License GNU GPL-3.0-or-later <https://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: /home/azureuser/.gnupg
Supported algorithms:
Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
        CAMELLIA128, CAMELLIA192, CAMELLIA256
Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
Compression: Uncompressed, ZIP, ZLIB, BZIP2
===================================================================
====                          curl                             ====
===================================================================
curl version
curl 7.81.0 (x86_64-pc-linux-gnu) libcurl/7.81.0 OpenSSL/3.0.2 zlib/1.2.11 brotli/1.0.9 zstd/1.4.8 libidn2/2.3.2 libpsl/0.21.0 (+libidn2/2.3.2) libssh/0.9.6/openssl/zlib nghttp2/1.43.0 librtmp/2.3 OpenLDAP/2.5.17
Release-Date: 2022-01-05
Protocols: dict file ftp ftps gopher gophers http https imap imaps ldap ldaps mqtt pop3 pop3s rtmp rtsp scp sftp smb smbs smtp smtps telnet tftp 
Features: alt-svc AsynchDNS brotli GSS-API HSTS HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM NTLM_WB PSL SPNEGO SSL TLS-SRP UnixSockets zstd

node version
v20.15.0

npm version
10.7.0



adding bash commands to zsh
=====================================================================
====                  node run js command                        ====
=====================================================================
this is node js javascript
node version v20.15.0
=======================================================================
====                  install node complete                        ====
=======================================================================



============================================================
====          install corepack and yarn                 ====
============================================================
npm install yarn

corepack enable
npm notice
npm notice New minor version of npm available! 10.7.0 -> 10.8.1
npm notice Changelog: https://github.com/npm/cli/releases/tag/v10.8.1
npm notice To update run: npm install -g npm@10.8.1
npm notice

yarn set version stable
111
! Corepack is about to download https://registry.yarnpkg.com/yarn/-/yarn-1.22.22.tgz
! Corepack is about to download https://repo.yarnpkg.com/4.3.1/packages/yarnpkg-cli/bin/yarn.js
➤ YN0000: Done in 0s 3ms
222
➤ YN0000: Done in 0s 3ms



yarn install



yarn version
4.3.1



=======================================================================
====             apt-get install zip 25180                         ====
=======================================================================
=======================================================================
====                       install jq 025-230                      ====
====                   move this to dedicated file                 ====
====                   move this to dedicated file                 ====
====                   move this to dedicated file                 ====
====                   move this to dedicated file                 ====
====                   move this to dedicated file                 ====
=======================================================================



==============================================================
====             waypoint 23 at 167 s took 39 s - node 
====                script elapsed time 3:26
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
node version v20.15.0
npm version 10.7.0
yarn version 4.3.1
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
express version   cant get express version
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx
waypoint 23 at 167 s took 39 s - node











==============================================================
==============================================================
====                express
====                script elapsed time 3:27
==============================================================
==============================================================
express 01 is generated
express 02 is cloned from github



==============================================================
====             waypoint 24 at 206 s took 2 s - express 
====                script elapsed time 3:28
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
node version v20.15.0
npm version 10.7.0
yarn version 4.3.1
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
express version   cant get express version
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx
waypoint 23 at 167 s took 39 s - node
waypoint 24 at 206 s took 2 s - express











==============================================================
==============================================================
====                install and run vue
====                script elapsed time 3:28
==============================================================
==============================================================



==============================================================
====             waypoint 25 at 208 s took 1 s - vue 
====                script elapsed time 3:29
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
node version v20.15.0
npm version 10.7.0
yarn version 4.3.1
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
express version   cant get express version
vue version cant get vue version ...
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx
waypoint 23 at 167 s took 39 s - node
waypoint 24 at 206 s took 2 s - express
waypoint 25 at 208 s took 1 s - vue











==============================================================
==============================================================
====                install and run vite
====                script elapsed time 3:29
==============================================================
==============================================================



==============================================================
====             waypoint 26 at 209 s took 1 s - vite 
====                script elapsed time 3:30
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
node version v20.15.0
npm version 10.7.0
yarn version 4.3.1
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
express version   cant get express version
vue version cant get vue version ...
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx
waypoint 23 at 167 s took 39 s - node
waypoint 24 at 206 s took 2 s - express
waypoint 25 at 208 s took 1 s - vue
waypoint 26 at 209 s took 1 s - vite











==============================================================
==============================================================
====                bun
====                script elapsed time 3:31
==============================================================
==============================================================



==============================================================
====             waypoint 27 at 210 s took 1 s - bun 
====                script elapsed time 3:31
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
node version v20.15.0
npm version 10.7.0
yarn version 4.3.1
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
express version   cant get express version
vue version cant get vue version ...
bun version cant get bun version ...
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx
waypoint 23 at 167 s took 39 s - node
waypoint 24 at 206 s took 2 s - express
waypoint 25 at 208 s took 1 s - vue
waypoint 26 at 209 s took 1 s - vite
waypoint 27 at 210 s took 1 s - bun











==============================================================
==============================================================
====                install and run react and npx
====                script elapsed time 3:31
==============================================================
==============================================================



==============================================================
====             waypoint 28 at 211 s took 2 s - react 
====                script elapsed time 3:33
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm01 ... image Ubuntu2204 .. os ubuntu type debian
vm vm01 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
node version v20.15.0
npm version 10.7.0
yarn version 4.3.1
npx version 10.7.0
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
express version   cant get express version
vue version cant get vue version ...
bun version cant get bun version ...
react version cant get react version ...
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx
waypoint 23 at 167 s took 39 s - node
waypoint 24 at 206 s took 2 s - express
waypoint 25 at 208 s took 1 s - vue
waypoint 26 at 209 s took 1 s - vite
waypoint 27 at 210 s took 1 s - bun
waypoint 28 at 211 s took 2 s - react











==============================================================
==============================================================
====                apache
====                script elapsed time 3:33
==============================================================
==============================================================











==============================================================
==============================================================
====                nginx
====                script elapsed time 3:33
==============================================================
==============================================================
nginx install works ... nothing to test at present











==============================================================
==============================================================
====                github actions
====                script elapsed time 3:33
==============================================================
==============================================================
github actions ... build test and deploy code
github actions ... can add labels when issue is created, for example
github actions run on linux windows or macos machines called runners
github actions ... workflow is triggered ... on event ...
... workflow contains jobs ... in sequence or in parallel
... each job runs in own runner vm or container
... each job has a number of steps ...
... each step runs a script or an action which is a reusable extension
event
... triggers workflow ... defined in yaml ...
... workflows in .github/workflows folder
... event ... workflow ...
... vm runner 1 runs job 1 ... steps ... either actions or scripts ...
... jobs .. can have dependencies if desired ...

run all my code on a commit, not just when i want to run it?



github action links
https://docs.github.com/en/actions/quickstart


sample given
... installs bash testing framework
https://www.npmjs.com/package/bats














==============================================================
==============================================================
====                set auto shutdown
====                script elapsed time 3:34
==============================================================
==============================================================
setting auto shutdown at 18:00
shut down object name
"shutdown-computevm-vm01"
"Enabled"











==============================================================
==============================================================
====                query vm - windows server
====                script elapsed time 3:37
==============================================================
==============================================================
windows server vm id is /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/VMResources/providers/Microsoft.Compute/virtualMachines/winServerVm01
ERROR: (ResourceNotFound) The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
Code: ResourceNotFound
Message: The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
windows server vm id hash ...
ERROR: (ResourceNotFound) The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
Code: ResourceNotFound
Message: The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
windows server vm size ...
ERROR: (ResourceNotFound) The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
Code: ResourceNotFound
Message: The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
ERROR: (ResourceNotFound) The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
Code: ResourceNotFound
Message: The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
windows server vm network id is
ERROR: argument --ids: expected at least one argument

Examples from AI knowledge base:
az network nic show --ids {ids}
Get the details of a network interface. (autogenerated)

az network nic show --resource-group MyResourceGroup --name MyNic --query "dnsSettings.internalDomainNameSuffix"
Get the internal domain name suffix of a NIC.

https://docs.microsoft.com/en-US/cli/azure/network/nic#az_network_nic_show
Read more about the command in reference docs
network card name
ERROR: (ResourceNotFound) The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
Code: ResourceNotFound
Message: The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
windows server vm public ip is
ERROR: (ResourceNotFound) The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
Code: ResourceNotFound
Message: The Resource 'Microsoft.Compute/virtualMachines/winServerVm01' under resource group 'ResourceGroup04' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
windows server vm private ip is
ERROR: argument --ids: expected at least one argument

Examples from AI knowledge base:
az network nic show --ids {ids}
Get the details of a network interface. (autogenerated)

az network nic show --resource-group MyResourceGroup --name MyNic --query "dnsSettings.internalDomainNameSuffix"
Get the internal domain name suffix of a NIC.

https://docs.microsoft.com/en-US/cli/azure/network/nic#az_network_nic_show
Read more about the command in reference docs
network card mac address
ERROR: argument --ids: expected at least one argument

Examples from AI knowledge base:
az network nic show --ids {ids}
Get the details of a network interface. (autogenerated)

az network nic show --resource-group MyResourceGroup --name MyNic --query "dnsSettings.internalDomainNameSuffix"
Get the internal domain name suffix of a NIC.

https://docs.microsoft.com/en-US/cli/azure/network/nic#az_network_nic_show
Read more about the command in reference docs
ERROR: argument --ids: expected at least one argument

Examples from AI knowledge base:
az network nic show --ids {ids}
Get the details of a network interface. (autogenerated)

az network nic show --resource-group MyResourceGroup --name MyNic --query "dnsSettings.internalDomainNameSuffix"
Get the internal domain name suffix of a NIC.

https://docs.microsoft.com/en-US/cli/azure/network/nic#az_network_nic_show
Read more about the command in reference docs
ERROR: argument --ids: expected at least one argument

Examples from AI knowledge base:
az network nic show --ids {ids}
Get the details of a network interface. (autogenerated)

az network nic show --resource-group MyResourceGroup --name MyNic --query "dnsSettings.internalDomainNameSuffix"
Get the internal domain name suffix of a NIC.

https://docs.microsoft.com/en-US/cli/azure/network/nic#az_network_nic_show
Read more about the command in reference docs
resource group location ... name ... id
querying network security group ... output sent to output.txt
az network nsg list ...
az network nsg show ...
ERROR: argument --resource-group/-g: expected one argument

Examples from AI knowledge base:
az network nsg show --resource-group MyResourceGroup --name MyNsg
Get basic information about an NSG.

az network nsg show --resource-group MyResourceGroup --name MyNsg --query "defaultSecurityRules[]" --output table
Get the default security rules of an NSG and format the output as a table.

https://docs.microsoft.com/en-US/cli/azure/network/nsg#az_network_nsg_show
Read more about the command in reference docs
az network nsg rule list ...
argument --resource-group/-g: expected one argument

Examples from AI knowledge base:
az network nsg rule list --resource-group MyResourceGroup --nsg-name MyNsg
List all rules in a network security group.

az network nsg rule list --include-default --nsg-name MyNsg --resource-group MyResourceGroup
List all rules in a network security group. (autogenerated)

https://docs.microsoft.com/en-US/cli/azure/network/nsg/rule#az_network_nsg_rule_list
Read more about the command in reference docs
==============================================================
====        create windows client vm - skipped            ====
====                script elapsed time 3:45
==============================================================











==============================================================
==============================================================
====                list files
====                script elapsed time 3:45
==============================================================
==============================================================



ls
myExpressApp2
package.json
python
scripts
yarn.lock



ls -lah
total 484K
drwxr-x--- 10 azureuser azureuser 4.0K Jul  7 13:39 .
drwxr-xr-x  3 root      root      4.0K Jul  7 13:36 ..
-rw-r--r--  1 azureuser azureuser  220 Jan  6  2022 .bash_logout
-rw-rw-r--  1 azureuser azureuser   41 Jul  7 13:39 .bash_profile
-rw-r--r--  1 azureuser azureuser 3.7K Jan  6  2022 .bashrc
drwx------  5 azureuser azureuser 4.0K Jul  7 13:39 .cache
drwxrwxr-x  4 azureuser azureuser 4.0K Jul  7 13:38 .local
drwxrwxr-x  4 azureuser azureuser 4.0K Jul  7 13:39 .npm
-rw-rw-r--  1 azureuser azureuser    0 Jul  7 13:38 .oh-my-zsh
-rwxr-xr-x  1 azureuser azureuser 416K Jul  7 13:39 .pnp.cjs
-rw-r--r--  1 azureuser azureuser  807 Jan  6  2022 .profile
drwx------  2 azureuser azureuser 4.0K Jul  7 13:36 .ssh
-rw-r--r--  1 azureuser azureuser    0 Jul  7 13:37 .sudo_as_admin_successful
drwxrwxr-x  3 azureuser azureuser 4.0K Jul  7 13:39 .yarn
-rw-rw-r--  1 azureuser azureuser 3.8K Jul  7 13:39 .zshrc
drwxr-xr-x  6 azureuser azureuser 4.0K Jul  7 13:39 myExpressApp2
-rw-rw-r--  1 azureuser azureuser   37 Jul  7 13:39 package.json
drwxrwxr-x  2 azureuser azureuser 4.0K Jul  7 13:38 python
drwxrwxr-x 13 azureuser azureuser 4.0K Jul  7 13:39 scripts
-rw-rw-r--  1 azureuser azureuser  326 Jul  7 13:39 yarn.lock











==============================================================
==============================================================
====                confirm vm details
====                script elapsed time 3:47
==============================================================
==============================================================
NetworkWatcherRG
ResourceGroup04

sign in with ...
resource group ResourceGroup04
vm vm01
user azureuser
ip 172.167.157.205











==============================================================
==============================================================
====                list vms and storages
====                script elapsed time 3:48
==============================================================
==============================================================



vm name
vm01



resource group name
ResourceGroup04



az vm list
Name    ResourceGroup    Location    Zones
------  ---------------  ----------  -------
vm01    RESOURCEGROUP04  uksouth


az vm list-usage
Name                                      CurrentValue    Limit
----------------------------------------  --------------  -------
Availability Sets                         0               2500
Total Regional vCPUs                      0               10
Virtual Machines                          0               25000
Virtual Machine Scale Sets                0               2500
Dedicated vCPUs                           0               3000
Cloud Services                            0               2500
Total Regional Low-priority vCPUs         0               3
Basic A Family vCPUs                      0               10
Standard A0-A7 Family vCPUs               0               10
Standard A8-A11 Family vCPUs              0               10
Standard D Family vCPUs                   0               10
Standard Dv2 Family vCPUs                 0               10
Standard DS Family vCPUs                  0               10
Standard DSv2 Family vCPUs                0               10
Standard G Family vCPUs                   0               10
Standard GS Family vCPUs                  0               10
Standard F Family vCPUs                   0               10
Standard FS Family vCPUs                  0               10
Standard NV Family vCPUs                  0               12
Standard NC Family vCPUs                  0               12
Standard H Family vCPUs                   0               8
Standard Av2 Family vCPUs                 0               10
Standard LS Family vCPUs                  0               10
Standard Dv2 Promo Family vCPUs           0               10
Standard DSv2 Promo Family vCPUs          0               10
Standard MS Family vCPUs                  0               0
Standard Dv3 Family vCPUs                 0               10
Standard DSv3 Family vCPUs                0               10
Standard Ev3 Family vCPUs                 0               10
Standard ESv3 Family vCPUs                0               10
Standard Dv4 Family vCPUs                 0               10
Standard DDv4 Family vCPUs                0               10
Standard DSv4 Family vCPUs                0               10
Standard DDSv4 Family vCPUs               0               10
Standard Ev4 Family vCPUs                 0               10
Standard EDv4 Family vCPUs                0               0
Standard ESv4 Family vCPUs                0               0
Standard EDSv4 Family vCPUs               0               10
Standard BS Family vCPUs                  0               10
Standard FSv2 Family vCPUs                0               10
Standard NDS Family vCPUs                 0               0
Standard NCSv2 Family vCPUs               0               0
Standard NCSv3 Family vCPUs               0               0
Standard LSv2 Family vCPUs                0               10
Standard PBS Family vCPUs                 0               6
Standard EIv3 Family vCPUs                0               10
Standard EISv3 Family vCPUs               0               10
Standard DCS Family vCPUs                 0               8
Standard NVSv2 Family vCPUs               0               0
Standard MSv2 Family vCPUs                0               0
Standard HBS Family vCPUs                 0               0
Standard HCS Family vCPUs                 0               0
Standard NVSv3 Family vCPUs               0               0
Standard NV Promo Family vCPUs            0               12
Standard NC Promo Family vCPUs            0               12
Standard H Promo Family vCPUs             0               8
Standard DAv4 Family vCPUs                0               0
Standard DASv4 Family vCPUs               0               10
Standard EAv4 Family vCPUs                0               0
Standard EASv4 Family vCPUs               0               10
Standard NDSv3 Family vCPUs               0               0
Standard DCSv2 Family vCPUs               0               8
Standard NVSv4 Family vCPUs               0               8
Standard NDSv2 Family vCPUs               0               0
Standard NPS Family vCPUs                 0               0
Standard HBrsv2 Family vCPUs              0               0
Standard NCASv3_T4 Family vCPUs           0               0
Standard NDASv4_A100 Family vCPUs         0               0
Standard EIDSv4 Family vCPUs              0               0
Standard XEISv4 Family vCPUs              0               0
Standard EIASv4 Family vCPUs              0               0
Standard HBv3 Family vCPUs                0               0
Standard MDSMediumMemoryv2 Family vCPUs   0               0
Standard MIDSMediumMemoryv2 Family vCPUs  0               0
Standard MSMediumMemoryv2 Family vCPUs    0               0
Standard MISMediumMemoryv2 Family vCPUs   0               0
Standard DASv5 Family vCPUs               0               0
Standard EASv5 Family vCPUs               0               0
Standard Ev5 Family vCPUs                 0               0
Standard EIv5 Family vCPUs                0               0
Standard EDv5 Family vCPUs                0               0
Standard EIDv5 Family vCPUs               0               0
Standard ESv5 Family vCPUs                0               0
Standard EISv5 Family vCPUs               0               0
Standard EDSv5 Family vCPUs               0               0
Standard EIDSv5 Family vCPUs              0               0
Standard Dv5 Family vCPUs                 0               0
Standard DDv5 Family vCPUs                0               0
Standard DSv5 Family vCPUs                0               0
Standard DDSv5 Family vCPUs               0               0
Standard DLSv5 Family vCPUs               0               0
Standard DLDSv5 Family vCPUs              0               0
Standard LSv3 Family vCPUs                0               0
Standard LASv3 Family vCPUs               0               0
Standard DCSv3 Family vCPUs               0               0
Standard DDCSv3 Family vCPUs              0               0
Standard DADSv5 Family vCPUs              0               0
Standard EADSv5 Family vCPUs              0               0
Standard FXMDVS Family vCPUs              0               0
Standard DPLDSv5 Family vCPUs             0               0
Standard DPLSv5 Family vCPUs              0               0
Standard DPDSv5 Family vCPUs              0               0
Standard DPSv5 Family vCPUs               0               0
Standard EPDSv5 Family vCPUs              0               0
Standard EPSv5 Family vCPUs               0               0
Standard NDAMSv4_A100Family vCPUs         0               0
Standard DCASv5 Family vCPUs              0               0
Standard ECASv5 Family vCPUs              0               0
Standard ECIASv5 Family vCPUs             0               0
Standard DCADSv5 Family vCPUs             0               0
Standard ECADSv5 Family vCPUs             0               0
Standard ECIADSv5 Family vCPUs            0               0
Standard NVADSA10v5 Family vCPUs          0               0
Standard NCADS_A100_v4 Family vCPUs       0               0
Standard EBDSv5 Family vCPUs              0               10
Standard EBSv5 Family vCPUs               0               10
Standard EIASv5 Family vCPUs              0               0
Standard EIADSv5 Family vCPUs             0               0
Standard NCADSA10v4 Family vCPUs          0               0
standard DCACCV5 Family vCPUs             0               0
standard DCADCCV5 Family vCPUs            0               0
standard ECACCV5 Family vCPUs             0               0
standard ECADCCV5 Family vCPUs            0               0
Standard EIBDSv5 Family vCPUs             0               0
Standard EIBSv5 Family vCPUs              0               0
Standard DCEV5 Family vCPUs               0               0
Standard DCEDV5 Family vCPUs              0               0
Standard ECEV5 Family vCPUs               0               0
Standard ECEDV5 Family vCPUs              0               0
StandardMS Medium Memoryv3 Family vCPUs   0               0
StandardMDS Medium Memoryv3 Family vCPUs  0               0
Standard HBv4 Family vCPUs                0               0
Standard HX Family vCPUs                  0               0
Standard Bpsv2 Family vCPUs               0               0
Standard Bsv2 Family vCPUs                0               0
Standard Basv2 Family vCPUs               0               0
Standard NDSH100v5 Family vCPUs           0               0
Standard ECIEV5 Family vCPUs              0               0
Standard ECIEDV5 Family vCPUs             0               0
Standard NCadsH100v5 Family vCPUs         0               0
StandardNDI Sv 5MI300X Family vCPUs       0               0
Standard Storage Managed Disks            0               50000
Premium Storage Managed Disks             0               50000
StandardSSDStorageDisks                   0               50000
StandardSSDZRSStorageDisks                0               50000
PremiumZRSStorageDisks                    0               50000
UltraSSDStorageDisks                      0               1000
PremiumV2StorageDisks                     0               1000
StandardStorageSnapshots                  0               75000
StandardSSDStorageSnapshots               0               75000
PremiumStorageSnapshots                   0               75000
ZrsStorageSnapshots                       0               75000
UltraSSDTotalSizeInGB                     0               102400
PremiumV2TotalDiskSizeInGB                0               102400
DiskEncryptionSets                        0               5000
DiskAccesses                              0               1000
AttachInProgressUltraSSDDisks             0               40
AttachInProgressPremiumV2SSDDisks         0               40
PremiumV2StorageSnapshots                 0               1000
PremiumV2TotalSnapshotSizeInGB            0               102400
Gallery                                   0               100
Gallery Image                             0               1000
Gallery Image Version                     0               10000
Gallery Application Version               0               300



az disk list
Name                                         ResourceGroup    Location    Zones    Sku          OsType    SizeGb    ProvisioningState
-------------------------------------------  ---------------  ----------  -------  -----------  --------  --------  -------------------
vm01_disk1_d60c69cba59c4966acd8f08dd1bb4787  ResourceGroup04  uksouth              Premium_LRS  Linux     30        Succeeded



az vm show
Name    ResourceGroup    Location    Zones
------  ---------------  ----------  -------
vm01    ResourceGroup04  uksouth



az vm show storage profile
DiskControllerType
--------------------
SCSI











==============================================================
==============================================================
====                query vm vm01
====                script elapsed time 3:51
==============================================================
==============================================================
resource group name ResourceGroup04
resource group location uksouth
resource group id 73d6cf6e-0b00-4395-a785-176e5f466371
user name azureuser
computer name vm01
id /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/VMResources/providers/Microsoft.Compute/virtualMachines/vm01
id hash 0844d285-38c5-4f60-8c3c-b368fdb5d9cd
machine id 0844d285-38c5-4f60-8c3c-b368fdb5d9cd
public ip 172.167.157.205
private ip 10.0.0.4
network id /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04/providers/Microsoft.Network/networkInterfaces/vm01VMNic
network card name vm01VMNic
mac address 00-22-48-41-F3-BD
size Standard_DS1_v2











==============================================================
==============================================================
====                create vm vm02 using image Debian11
====                script elapsed time 4:02
==============================================================
==============================================================
{
  "fqdns": "",
  "id": "/subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04/providers/Microsoft.Compute/virtualMachines/vm02",
  "location": "uksouth",
  "macAddress": "7C-1E-52-1D-6B-9A",
  "powerState": "VM running",
  "privateIpAddress": "10.0.0.5",
  "publicIpAddress": "172.166.106.19",
  "resourceGroup": "ResourceGroup04",
  "zones": ""
}











==============================================================
==============================================================
====                query vm vm02
====                script elapsed time 4:38
==============================================================
==============================================================
resource group name ResourceGroup04
resource group location uksouth
resource group id 581a8507-ea6f-4c4b-9b23-532b74581dea
user name azureuser
computer name vm02
id /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/VMResources/providers/Microsoft.Compute/virtualMachines/vm02
id hash d5c97a83-347f-40cb-9b9f-1b22c440f71e
machine id d5c97a83-347f-40cb-9b9f-1b22c440f71e
public ip 172.166.106.19
private ip 10.0.0.5
network id /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04/providers/Microsoft.Network/networkInterfaces/vm02VMNic
network card name vm02VMNic
mac address 7C-1E-52-1D-6B-9A
size Standard_DS1_v2











==============================================================
==============================================================
====                pause for 5 minutes to allow servers to build
====                script elapsed time 4:51
==============================================================
==============================================================











==============================================================
==============================================================
====                test web servers from localhost ...
Get arguments: test web servers from localhost ... ip is 172.167.157.205 private ip is 10.0.0.4
====                ip is 172.167.157.205
====                private ip is 10.0.0.4
====                script elapsed time 9:51
==============================================================
==============================================================
ip is 10.0.0.4



testing servers starting at time 13:46:04









curl localhost:80
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent   <!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>
 Left  Speed
100   612  100   612    0     0   139k      0 --:--:-- --:--:-- --:--:--  149k






curl localhost:3000
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0<!DOCTYPE html><html><head><title>Express</title><link rel="stylesheet" href="/stylesheets/style.css"></head><body><h1>Express</h1><p>Welcome to E100   170  100   170    0     0    518      0 --:--:-- --:--:-- --:--:--   521






curl localhost:57329
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                        hello world from a bun server on port 57329 from phil         Dload  Upload   Total   Spent    Left  Speed
100    53  100    53    0     0   7675      0 --:--:-- --:--:-- --:--:--  8833






curl localhost:58262
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0<!doctype html>
<html lang="en">
  <head>
    <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

    <script type="module" src="/@vite/client"></script>

    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React + TS</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
100   621  100   621    0     0  20933      0 --:--:-- --:--:-- --:--:-- 22178






curl localhost:54892
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0<!doctype html>
<html lang="en">
  <head>
    <script type="module" src="/@vite/client"></script>

    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + TS</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
100   413  100   413    0     0  14108      0 --:--:-- --:--:-- --:--:-- 14750






curl localhost:63892
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
   <!DOCTYPE html>
<html lang="en">
  <head>
    <script type="module" src="/@vite/client"></script>

    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
                              Dload  Upload   Total   Spent    Left  Speed
100   388  100   388    0     0  13270      0 --:--:-- --:--:-- --:--:-- 14370






curl localhost:51547
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
              <!DOCTYPE html>
<html>
  <head>
    <title>Express</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1>Express</h1>
    <p>Welcome to Express running on port 51547 - happy days from phil</p>
  </body>
</html>
                   Dload  Upload   Total   Spent    Left  Speed
100   252  100   252    0     0  14284      0 --:--:-- --:--:-- --:--:-- 15750






curl localhost:51279
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
              response from node js web server ... running at http://127.0.0.1:51279/
                   Dload  Upload   Total   Spent    Left  Speed
100    72  100    72    0     0   8765      0 --:--:-- --:--:-- --:--:-- 12000











==============================================================
==============================================================
====                test web servers from machine on same local network ... ip is 172.166.106.19
====                script elapsed time 10:16
==============================================================
==============================================================
Warning: Permanently added '172.166.106.19' (ED25519) to the list of known hosts.
ip is 10.0.0.5



testing servers starting at time 13:46:29









port 80
10.0.0.4:80
  % Total    % Received % Xferd  Average Speed   Time    Time     Time <!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>
 Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   612  100   612    0     0   149k      0 --:--:-- --:--:-- --:--:--  149k






port 3000
10.0.0.4:3000
  % Total    % Received % Xferd  Average Speed   <!DOCTYPE html><html><head><title>Express</title><link rel="stylesheet" href="/stylesheets/style.css"></head><body><h1>Express</h1><p>Welcome to Express</p></body></html>Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   170  100   170    0     0  11333      0 --:--:-- --:--:-- --:--:-- 11333






port 57329
10.0.0.4:57329
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                     hello world from a bun server on port 57329 from phil            Dload  Upload   Total   Spent    Left  Speed
100    53  100    53    0     0  10600      0 --:--:-- --:--:-- --:--:-- 13250






port 58262
10.0.0.4:58262
  % Total    % Received % Xferd  Average Spe<!doctype html>
<html lang="en">
  <head>
    <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

    <script type="module" src="/@vite/client"></script>

    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React + TS</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
ed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   621  100   621    0     0  88714      0 --:--:-- --:--:-- --:--:-- 88714






port 54892
10.0.0.4:54892
  % Total    % Received % Xferd  Average Speed   Time  <!doctype html>
<html lang="en">
  <head>
    <script type="module" src="/@vite/client"></script>

    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + TS</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
  Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   413  100   413    0     0  68833      0 --:--:-- --:--:-- --:--:-- 68833






port 63892
10.0.0.4:63892
  % Total    % Received % Xferd  Average Spe<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="module" src="/@vite/client"></script>

    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
ed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   388  100   388    0     0  64666      0 --:--:-- --:--:-- --:--:-- 64666






port 51547
10.0.0.4:51547
  % Total    % Received % Xferd  Average Speed   <!DOCTYPE html>
<html>
  <head>
    <title>Express</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1>Express</h1>
    <p>Welcome to Express running on port 51547 - happy days from phil</p>
  </body>
</html>
Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   252  100   252    0     0  50400      0 --:--:-- --:--:-- --:--:-- 50400






port 51279
10.0.0.4:51279
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
curl: (7) Failed to connect to 10.0.0.4 port 51279: Connection refused



==============================================================
====             waypoint 29 at 213 s took 429 s - test 
====                script elapsed time 10:42
==============================================================
aws cli installed of version aws-cli/2.15.21 
powershell version PowerShell 7.4.2 installed
environment cleaned
resource group ResourceGroup04 created
vm vm02 ... image Debian11 .. os ubuntu type debian
vm vm02 has ip 172.167.157.205
network security group queried
remote shell version GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
linux version VERSION="22.04.4 LTS (Jammy Jellyfish)"
linux os details  Static hostname: vm01        Icon name: computer-vm          Chassis: vm       Machine ID: e8f8d4e3240843ad9e12781569c4c6a4          Boot ID: a244d0ba59c84a66a02f8c57fdd16ff7   Virtualization: microsoft Operating System: Ubuntu 22.04.4 LTS           Kernel: Linux 6.5.0-1023-azure     Architecture: x86-64  Hardware Vendor: Microsoft Corporation   Hardware Model: Virtual Machine
linux codename VERSION_CODENAME=jammy
linux id_like ID_LIKE=debian
python platform version Linux-6.5.0-1023-azure-x86_64-with-glibc2.35
zsh version zsh 5.8.1 (x86_64-ubuntu-linux-gnu)
git version 2.34.1
node version v20.15.0
npm version 10.7.0
yarn version 4.3.1
npx version 10.7.0
==============================
====      fix these       ====
==============================
apache version cant get apache version ...
nginx version cant get nginx version ...
express version   cant get express version
vue version cant get vue version ...
bun version cant get bun version ...
react version cant get react version ...
waypoint 0 at 0 s - script start
waypoint 1 at 0 s took 6 s - vm image chosen Ubuntu2204 .. os ubuntu of type debian
waypoint 2 at 6 s took 0 s - credentials set - user azureuser .. pass ..
waypoint 3 at 6 s took 1 s - install libraries
waypoint 4 at 7 s took 0 s - log in to cloud
waypoint 5 at 7 s took 0 s - query cloud resources
waypoint 6 at 7 s took 3 s - clean environment
waypoint 7 at 10 s took 1 s - create resource group
waypoint 8 at 11 s took 2 s - list resource groups
waypoint 9 at 13 s took 0 s - query vm templates
waypoint 10 at 13 s took 35 s - vm created
waypoint 11 at 48 s took 1 s - list vms
waypoint 12 at 49 s took 12 s - query vm using cloud provider
waypoint 13 at 61 s took 0 s - query network security group performed
waypoint 14 at 61 s took 34 s - query linux
waypoint 15 at 95 s took 2 s - dnf install
waypoint 16 at 97 s took 12 s - os updated
waypoint 17 at 109 s took 10 s - zsh
waypoint 18 at 119 s took 2 s - install zsh oh-my-zsh
waypoint 19 at 121 s took 33 s - python
waypoint 20 at 154 s took 2 s - git
waypoint 21 at 156 s took 1 s - apache
waypoint 22 at 157 s took 10 s - nginx
waypoint 23 at 167 s took 39 s - node
waypoint 24 at 206 s took 2 s - express
waypoint 25 at 208 s took 1 s - vue
waypoint 26 at 209 s took 1 s - vite
waypoint 27 at 210 s took 1 s - bun
waypoint 28 at 211 s took 2 s - react
waypoint 29 at 213 s took 429 s - test











==============================================================
==============================================================
====                create vm vmRedhat using image RHELRaw8LVMGen2 of type redhat
====                script elapsed time 10:42
==============================================================
==============================================================
{
  "fqdns": "",
  "id": "/subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04/providers/Microsoft.Compute/virtualMachines/vmRedhat",
  "location": "uksouth",
  "macAddress": "00-0D-3A-7F-84-40",
  "powerState": "VM running",
  "privateIpAddress": "10.0.0.6",
  "publicIpAddress": "172.167.212.47",
  "resourceGroup": "ResourceGroup04",
  "zones": ""
}











==============================================================
==============================================================
====                query vm vmRedhat
====                script elapsed time 11:17
==============================================================
==============================================================
resource group name ResourceGroup04
resource group location uksouth
resource group id 9dc2ef5d-8e0d-4f0e-a52c-5e68c92d0804
user name azureuser
computer name vmRedhat
id /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/VMResources/providers/Microsoft.Compute/virtualMachines/vmRedhat
id hash 6058d4c2-2621-43f1-a794-fc44c880c283
machine id 6058d4c2-2621-43f1-a794-fc44c880c283
public ip 172.167.212.47
private ip 10.0.0.6
network id /subscriptions/29a6dc31-f2c3-4caa-a935-2a7158618df5/resourceGroups/ResourceGroup04/providers/Microsoft.Network/networkInterfaces/vmRedhatVMNic
network card name vmRedhatVMNic
mac address 00-0D-3A-7F-84-40
size Standard_DS1_v2



... waiting 0 minutes then deleting all servers and all resource groups so we start from scratch every time ...











==============================================================
==============================================================
====                deallocate vms
====                script elapsed time 11:31
==============================================================
==============================================================
resource group name ResourceGroup04











==============================================================
==============================================================
====                delete vms
====                script elapsed time 13:05
==============================================================
==============================================================
delete vm by id
invalid resource ID: 0844d285-38c5-4f60-8c3c-b368fdb5d9cd
invalid resource ID: d5c97a83-347f-40cb-9b9f-1b22c440f71e
invalid resource ID: 6058d4c2-2621-43f1-a794-fc44c880c283
==============================================================
====                   azure script ended                 ====
====                script elapsed time 13:06
====                  unix time 1720360158
Sun Jul  7 14:49:18 2024
==============================================================
➜  bash git:(master) ✗ 
